(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26226,r=>{"use strict";var t=r.i(43476),a=r.i(71645);let e=(0,a.createContext)();function i({children:r}){let[i,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{try{let r=localStorage.getItem("carrito");r&&o(JSON.parse(r))}catch(r){console.error("Error leyendo carrito de localStorage",r)}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem("carrito",JSON.stringify(i))}catch(r){console.error("Error guardando carrito en localStorage",r)}},[i]),(0,t.jsx)(e.Provider,{value:{carrito:i,agregarAlCarrito:r=>{o(t=>t.find(t=>t.id===r.id)?t.map(t=>t.id===r.id?{...t,cantidad:(t.cantidad||1)+1}:t):[...t,{...r,cantidad:1}])},incrementarCantidad:r=>{o(t=>t.map(t=>t.id===r?{...t,cantidad:(t.cantidad||1)+1}:t))},disminuirCantidad:r=>{o(t=>t.map(t=>t.id===r?{...t,cantidad:(t.cantidad||1)-1}:t).filter(r=>(r.cantidad||0)>0))},eliminarDelCarrito:r=>{o(t=>t.filter(t=>t.id!==r))},vaciarCarrito:()=>{o([]);try{localStorage.removeItem("carrito")}catch(r){console.error("Error removiendo carrito de localStorage",r)}}},children:r})}function o(){return(0,a.useContext)(e)}r.s(["CarritoProvider",()=>i,"useCarrito",()=>o])}]);